<html><head title="/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/email/mime/audio.py"><style type='text/css'>
body { color: #666666; } 
a {text-decoration: none; color: #5A82F7}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #aaaaaa;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px dotted orange;}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted = new Array();
function highlight()
{
    // clear existing highlights
    for (var i = 0; i < highlighted.length; i++) {
        var elm = document.getElementById(highlighted[i]);
        if (elm != null) {
            elm.style.backgroundColor = 'white';
        }
    }
    highlighted = new Array();
    for (var i = 0; i < arguments.length; i++) {
        var elm = document.getElementById(arguments[i]);
        if (elm != null) {
            elm.style.backgroundColor='gold';
        }
        highlighted.push(arguments[i]);
    }
} </script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#sndhdr', onmouseover='highlight("sndhdr")'>sndhdr</a></li><li><a href='#audio.__all__', onmouseover='highlight("audio___all__")'><span class='identifier'>__all__</span></a></li><li><a href='#audio._sndhdr_MIMEmap', onmouseover='highlight("audio__sndhdr_MIMEmap")'><span class='identifier'>_sndhdr_MIMEmap</span></a></li><li><a href='#audio._whatsnd', onmouseover='highlight("audio__whatsnd")'><span class='function'>_whatsnd</span></a></li><li><a href='#audio.MIMEAudio', onmouseover='highlight("audio_MIMEAudio")'><span class='type-name'>MIMEAudio</span></a><ul>
<li><a href='#audio.MIMEAudio.__init__', onmouseover='highlight("audio_MIMEAudio___init__")'><span class='function'>__init__</span></a></li></ul>
</li></ul>
</td><td><pre><span class='lineno'>1</span> </span><span class='parameter'><span class='parameter'></span># Copyr<a name='sndhdr', id ='1799594178', onmouseover='highlight("1799594178","1461811517")', title='sndhdr :: sndhdr'><a href='/Users/yinwang/results/html/sndhdr.py.html#sndhdr', id ='1799594178', onmouseover='highlight(1799594178)', title='sndhdr :: sndhdr'>ight </a>(</a>C) 2001-2006 Python Software Foundation
<span class='lineno'>2</span> # Author: Anthony Baxter
<span class='lineno'>3</span> # Contact: email-sig@python.org
<span class='lineno'>4</span> 
<span class='lineno'>5</span> <span class='doc-string'>&quot;&quot;&quot;Class representing audio/* type MIME documents.&quot;&quot;&quot;</span>
<span class='lineno'>6</span> 
<span class='lineno'>7</span> <a name='audio.__all__', id ='1461819268', title='audio.__all__ :: [str]'>__all__</a> = [&#39;MIMEAudio&#39;]
<span class='lineno'>8</span> 
<span class='lineno'>9</span> import sndhdr
<span class='lineno'>10</span> 
<span class='lineno'>11</span> from cStringIO import StringIO
<span class='lineno'>12</span> from email import encoders
<span class='lineno'>13</span> from email.mime.nonmultipart import MIMENonMultipart
<span class='lineno'>14</span> 
<span class='lineno'>15</span> 
<span class='lineno'>16</span> 
<span class='lineno'>17</span> <a name='audio._sndhdr_MIMEmap', id ='1461817475', onmouseover='highlight(1928237296)', title='audio._sndhdr_MIMEmap :: {str:str}'>_sndhdr_MIMEmap</a> = {&#39;au&#39;  : &#39;basic&#39;,
<span class='lineno'>18</span>                    &#39;wav&#39; :&#39;x-wav&#39;,
<span class='lineno'>19</span>                    &#39;aiff&#39;:&#39;x-aiff&#39;,
<span class='lineno'>20</span>                    &#39;aifc&#39;:&#39;x-aiff&#39;,
<span class='lineno'>21</span>                    }
<span class='lineno'>22</span> 
<span class='lineno'>23</span> # There are others in sndhdr that don&#39;t have MIME types. :(
<span class='lineno'>24</span> # Additional ones to be added to sndhdr? midi, mp3, realaudio, wma??
<span class='lineno'>25</span> def <a name='audio._whatsnd', id ='1461814615', onmouseover='highlight(1928270780)', title='audio._whatsnd :: ? -> ?'><span class='function'>_whatsnd</span></a>(<span class='parameter'><a name='audio._whatsnd@data', id ='1461814585', onmouseover='highlight(1461811701)', title='audio._whatsnd@data :: ?'>data</a></span>):
<span class='lineno'>26</span>     <span class='doc-string'>&quot;&quot;&quot;Try to identify a sound file type.
<span class='lineno'>27</span> 
<span class='lineno'>28</span>     sndhdr.what() has a pretty cruddy interface, unfortunately.  This is why
<span class='lineno'>29</span>     we re-do it here.  It would be easier to reverse engineer the Unix &#39;file&#39;
<span class='lineno'>30</span>     command and use the standard &#39;magic&#39; file, as shipped with a modern Unix.
<span class='lineno'>31</span>     &quot;&quot;&quot;</span>
<span class='lineno'>32</span>     <span class='identifier'><a name='audio._whatsnd&hdr', id ='1461811707', onmouseover='highlight("1461811582","1928237108")', title='audio._whatsnd&hdr :: ?'>hdr</a></span> = <a href='#audio._whatsnd@data', id ='1461811701', onmouseover='highlight(1461814585)', title='audio._whatsnd@data :: ?'>data</a>[:<span class='number'>512</span>]
<span class='lineno'>33</span>     <a name='audio._whatsnd&fakefile', id ='1461811644', onmouseover='highlight(1928237113)', title='audio._whatsnd&fakefile :: ?'><span class='identifier'>fakefile</span></a> = StringIO(<a href='#audio._whatsnd&hdr', id ='1461811582', onmouseover='highlight(1461811707)', title='audio._whatsnd&hdr :: ?'>hdr</a>)
<span class='lineno'>34</span>     for <a name='audio._whatsnd&testfn', id ='1461811548', onmouseover='highlight(1928237080)', title='audio._whatsnd&testfn :: ?'>testfn</a> in <a href='/Users/yinwang/results/html/sndhdr.py.html#sndhdr', id ='1461811517', onmouseover='highlight(1799594178)', title='sndhdr :: sndhdr'>sndhdr</a>.<a href='/Users/yinwang/results/html/sndhdr.py.html#sndhdr.tests', id ='1461811489', onmouseover='highlight(959005373)', title='sndhdr.tests :: [?]'>tests</a>:
<span class='lineno'>35</span>         <span class='identifier'><a name='audio._whatsnd&res', id ='1928237053', onmouseover='highlight("1928238009","1928237176")', title='audio._whatsnd&res :: ?'>res</a></span> = <a href='#audio._whatsnd&testfn', id ='1928237080', onmouseover='highlight(1461811548)', title='audio._whatsnd&testfn :: ?'>testfn</a>(<a href='#audio._whatsnd&hdr', id ='1928237108', onmouseover='highlight(1461811707)', title='audio._whatsnd&hdr :: ?'>hdr</a>, <a href='#audio._whatsnd&fakefile', id ='1928237113', onmouseover='highlight(1461811644)', title='audio._whatsnd&fakefile :: ?'>fakefile</a>)
<span class='lineno'>36</span>         if <a href='#audio._whatsnd&res', id ='1928237176', onmouseover='highlight(1928237053)', title='audio._whatsnd&res :: ?'>res</a> is not <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1928237208', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</span></a>:
<span class='lineno'>37</span>             return <a href='#audio._sndhdr_MIMEmap', id ='1928237296', onmouseover='highlight(1461817475)', title='audio._sndhdr_MIMEmap :: {str:str}'>_sndhdr_MIMEmap</a>.<a href='http://docs.python.org/tutorial/datastructures.html#dictionaries', id ='1928238005', onmouseover='highlight(1629002017)', title='__builtin__.dict.get :: '>get</a>(<a href='#audio._whatsnd&res', id ='1928238009', onmouseover='highlight(1928237053)', title='audio._whatsnd&res :: ?'>res</a>[<span class='number'>0</span>])
<span class='lineno'>38</span>     return <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1928238070', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>
<span class='lineno'>39</span> 
<span class='lineno'>40</span> 
<span class='lineno'>41</span> 
<span class='lineno'>42</span> class <span class='type-name'><a name='audio.MIMEAudio', id ='1928238106', title='audio.MIMEAudio :: <MIMEAudio>'>MIMEAudio</span></a>(MIMENonMultipart):
<span class='lineno'>43</span>     <span class='doc-string'>&quot;&quot;&quot;Class for generating audio/* MIME documents.&quot;&quot;&quot;</span>
<span class='lineno'>44</span> 
<span class='lineno'>45</span>     def <span class='function'><a name='audio.MIMEAudio.__init__', id ='1928239060', title='audio.MIMEAudio.__init__ :: (MIMEAudio, ?, ?, ?) -> None'>__init__</span></a>(<span class='parameter'><a name='audio.MIMEAudio.__init__@self', id ='1928239090', onmouseover='highlight("1928272825","1928272695","1928271895")', title='audio.MIMEAudio.__init__@self :: MIMEAudio'>self</span></a>, <span class='parameter'><a name='audio.MIMEAudio.__init__@_audiodata', id ='1928239096', onmouseover='highlight("1928272733","1928270810")', title='audio.MIMEAudio.__init__@_audiodata :: ?'>_audiodata</a></span>, <a name='audio.MIMEAudio.__init__@_subtype', id ='1928239129', onmouseover='highlight("1928272603","1928270896","1928270004")', title='audio.MIMEAudio.__init__@_subtype :: ?'><span class='parameter'>_subtype</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1928239159', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>,
<span class='lineno'>46</span>                  <span class='parameter'><a name='audio.MIMEAudio.__init__@_encoder', id ='1928239245', onmouseover='highlight(1928272795)', title='audio.MIMEAudio.__init__@_encoder :: ?'>_encoder</span></a>=encoders.encode_base64, **_params):
<span class='lineno'>47</span>         <span class='doc-string'>&quot;&quot;&quot;Create an audio/* type MIME document.
<span class='lineno'>48</span> 
<span class='lineno'>49</span>         _audiodata is a string containing the raw audio data.  If this data
<span class='lineno'>50</span>         can be decoded by the standard Python `sndhdr&#39; module, then the
<span class='lineno'>51</span>         subtype will be automatically included in the Content-Type header.
<span class='lineno'>52</span>         Otherwise, you can specify  the specific audio subtype via the
<span class='lineno'>53</span>         _subtype parameter.  If _subtype is not given, and no subtype can be
<span class='lineno'>54</span>         guessed, a TypeError is raised.
<span class='lineno'>55</span> 
<span class='lineno'>56</span>         _encoder is a function which will perform the actual encoding for
<span class='lineno'>57</span>         transport of the image data.  It takes one argument, which is this
<span class='lineno'>58</span>         Image instance.  It should use get_payload() and set_payload() to
<span class='lineno'>59</span>         change the payload to the encoded form.  It should also add any
<span class='lineno'>60</span>         Content-Transfer-Encoding or other headers to the message as
<span class='lineno'>61</span>         necessary.  The default encoding is Base64.
<span class='lineno'>62</span> 
<span class='lineno'>63</span>         Any additional keyword arguments are passed to the base class
<span class='lineno'>64</span>         constructor, which turns them into parameters on the Content-Type
<span class='lineno'>65</span>         header.
<span class='lineno'>66</span>         &quot;&quot;&quot;</span>
<span class='lineno'>67</span>         if <a href='#audio.MIMEAudio.__init__@_subtype', id ='1928270004', onmouseover='highlight("1928239129","1928270748")', title='audio.MIMEAudio.__init__@_subtype :: ?'>_subtype</a> is <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1928270688', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</a></span>:
<span class='lineno'>68</span>             <a name='audio.MIMEAudio.__init__@_subtype', id ='1928270748', onmouseover='highlight("1928272603","1928270896","1928270004")', title='audio.MIMEAudio.__init__@_subtype :: ?'>_subtype</a> = <a href='#audio._whatsnd', id ='1928270780', onmouseover='highlight(1461814615)', title='audio._whatsnd :: ? -> ?'>_whatsnd</a>(<a href='#audio.MIMEAudio.__init__@_audiodata', id ='1928270810', onmouseover='highlight(1928239096)', title='audio.MIMEAudio.__init__@_audiodata :: ?'>_audiodata</a>)
<span class='lineno'>69</span>         if <a href='#audio.MIMEAudio.__init__@_subtype', id ='1928270896', onmouseover='highlight("1928239129","1928270748")', title='audio.MIMEAudio.__init__@_subtype :: ?'>_subtype</a> is <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1928270929', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</span></a>:
<span class='lineno'>70</span>             raise <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1928271646', onmouseover='highlight(2016665419)', title='__builtin__.TypeError :: <TypeError>'>TypeError</a>(&#39;Could not find audio MIME subtype&#39;)
<span class='lineno'>71</span>         MIMENonMultipart.__init__(<a href='#audio.MIMEAudio.__init__@self', id ='1928271895', onmouseover='highlight(1928239090)', title='audio.MIMEAudio.__init__@self :: MIMEAudio'>self</a>, &#39;audio&#39;, <a href='#audio.MIMEAudio.__init__@_subtype', id ='1928272603', onmouseover='highlight("1928239129","1928270748")', title='audio.MIMEAudio.__init__@_subtype :: ?'>_subtype</a>, **_params)
<span class='lineno'>72</span>         <a href='#audio.MIMEAudio.__init__@self', id ='1928272695', onmouseover='highlight(1928239090)', title='audio.MIMEAudio.__init__@self :: MIMEAudio'>self</a>.set_payload(<a href='#audio.MIMEAudio.__init__@_audiodata', id ='1928272733', onmouseover='highlight(1928239096)', title='audio.MIMEAudio.__init__@_audiodata :: ?'>_audiodata</a>)
<span class='lineno'>73</span>         <a href='#audio.MIMEAudio.__init__@_encoder', id ='1928272795', onmouseover='highlight(1928239245)', title='audio.MIMEAudio.__init__@_encoder :: ?'>_encoder</a>(<a href='#audio.MIMEAudio.__init__@self', id ='1928272825', onmouseover='highlight(1928239090)', title='audio.MIMEAudio.__init__@self :: MIMEAudio'>self</a>)
</pre></td></tr></table></body></html>